<!DOCTYPE html>
<html>
<head>
<title>Physics</title>
</head>
<body>

<canvas id="myCanvas" style="border:2px solid"></canvas>
  <script>
var canvas = document.getElementById("myCanvas");
	var c = canvas.getContext("2d");

	canvas.width = window.innerWidth - 20;
	canvas.height = window.innerHeight - 100;

	var simMinWidth = 20.0;
	var cScale = Math.min(canvas.width, canvas.height) / simMinWidth;
	var simWidth = canvas.width / cScale;
	var simHeight = canvas.height / cScale;
	  const ballx=[];
	  const bally=[];
	  const ballxvel=[];
	  const ballyvel=[];
	  const ballmass=[];

	function addBall(x,y,r,xvel,yvel,m){
		ballx.push(x);
		bally.push(y);
		ballr.push(r);
		ballxvel.push(xvel);
		ballyvel.push(yvel);
		ballmass.push(m);
	}
	  
	function cX(x) {
		return x * cScale;
	}

	function cY(y) {
		return canvas.height - y * cScale;
	}

	// scene -------------------------------------------------------

	var gravity = { x: 0.0, y: -10.0};
	var timeStep = 1.0 / 60.0;
	// drawing -------------------------------------------------------

	function draw() {
		c.clearRect(0, 0, canvas.width, canvas.height);

		c.fillStyle = "#FF0000";
for(var i =0;i<ballx.length;i++){
		c.beginPath();			
		c.arc(
      cX(ballx[i]), cY(bally[i]), cScale * ballr[i], 0.0, 2.0 * Math.PI); 
		c.closePath();
      		c.fill();	
}
	}

	// simulation ----------------------------------------------------

	function simulate() {
	for(var i =0;i<ballx.length;i++){
		ballxvel[i] += gravity.x * timeStep;
		ballyvel[i] += gravity.y * timeStep;
		ballx[i] += ballxvel[i] * timeStep;
		bally[i]+= ballyvel[i] * timeStep;

		if (ballx[i] < 0.0) {
			ballx[i] = 0.0;
			ballxvel[i] = -ballxvel[i];
		}
		if (ballx[i] > simWidth) {
			ballx[i] = simWidth;
			ballxvel[i]= -ballxvel[i];
		}
		if (bally[i] < 0.0) {
			bally[i] = 0.0;
			ballyvel[i] = -ballyvel[i];
		}
	}
	}

	// make browser to call us repeatedly -----------------------------------

	function update() {
		simulate();
		draw();
		requestAnimationFrame(update);
	}

addBall(50,50,5,5,5,5);
    update();
  </script>

</body>
</html>
